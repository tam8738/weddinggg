<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Trung Hiếu & Thanh Phương - Wedding Invitation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Phông chữ Google dùng cho tiêu đề và nội dung -->
  <link href="https://fonts.googleapis.com/css2?family=Corinthia&family=Pacifico&display=swap" rel="stylesheet">

  <!-- Nạp Tailwind qua CDN để dùng tiện ích nhanh -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'primary-pink': '#b2cee5',
            'accent-pink': '#045493',
            'text-dark': '#000000',
            'border-pink': '#b2cee5',
            'milky': '#f9fbfa',
            'block-light': '#e9f5ff'
          },
          fontFamily: {
            heading: ['Corinthia', 'cursive'],
            body: ['Pacifico', 'cursive'],
          }
        }
      }
    }
  </script>

  <!-- Thư viện AOS cho hiệu ứng khi cuộn -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <!-- Bộ icon FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="bg-milky text-text-dark">

<!-- Hiệu ứng trái tim rơi trang trí nền -->
<div id="hearts-container"></div>

<!-- Nhạc nền phát lặp -->
<audio id="bg-music" loop>
  <!-- Fallback demo if file missing -->
  <source src="nhac_nen.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<!-- Thanh mini bar cố định phía trên -->
<header class="fixed top-0 left-0 right-0 z-40 bg-primary-pink border-b border-border-pink">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between text-base">
    <div class="font-heading text-accent-pink text-lg">
      TH <i class="fa-solid fa-heart mx-1 text-accent-pink"></i> TP
    </div>
    <div class="hidden md:block text-sm text-text-dark/70">
      20 tháng 12 2025 · Hà Nội
    </div>
  </div>
</header>

<main class="mt-16">

  <!-- KHU 1: HERO giới thiệu chính -->
  <section id="hero" class="relative h-[90vh] md:h-screen overflow-hidden">
    <!-- Trình chiếu ảnh nền -->
    <div class="hero-slide">
      <img src="13.jpg" class="w-full h-full object-cover opacity-40" alt="Wedding photo 1">
    </div>
    <div class="hero-slide">
      <img src="5.jpg" class="w-full h-full object-cover opacity-40" alt="Wedding photo 2">
    </div>
    <div class="hero-slide">
      <img src="6.jpg" class="w-full h-full object-cover opacity-40" alt="Wedding photo 3">
    </div>

    <!-- Lớp phủ màu để cân bằng ánh sáng -->
    <div class="absolute inset-0 bg-block-light/80"></div>

    <!-- Nội dung chính bên trong hero -->
    <div class="absolute inset-0 flex flex-col items-center justify-center text-center px-4 scroll-animate">
      <div class="mb-4 text-4xl text-text-dark">
        <i class="fa-solid fa-heart"></i>
      </div>
      <p class="uppercase tracking-[0.35em] text-sm md:text-base text-text-dark/80 mb-4">
        SAVE THE DATE
      </p>
      <h1 class="font-heading text-text-dark text-4xl sm:text-6xl md:text-7xl lg:text-8xl font-semibold leading-tight mb-4">
        Trung Hiếu &amp; Thanh Phương
      </h1>
      <p class="text-text-dark text-xl md:text-3xl mb-8">
        20 tháng 12 2025
      </p>
      <a href="#guestbook"
         class="inline-block px-10 py-3 border border-border-pink text-text-dark rounded-full tracking-wide text-base md:text-lg hover:bg-primary-pink hover:text-white transition">
        GỬI LỜI CHÚC
      </a>
    </div>
  </section>

  <!-- KHU 2: Thông tin cô dâu chú rể -->
  <section id="couple" class="py-16 md:py-20 bg-milky">
    <div class="max-w-6xl mx-auto px-4 scroll-animate">
      <div class="grid md:grid-cols-2 gap-12 items-start relative">
        <!-- Trái tim nhấn mạnh tình yêu ở giữa -->
        <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 z-20">
          <div class="w-16 h-16 rounded-full bg-primary-pink text-white flex items-center justify-center animate-pulse shadow-lg">
            <i class="fa-solid fa-heart text-2xl"></i>
          </div>
        </div>

        <!-- Thông tin chú rể -->
        <div class="group relative person-photo scroll-animate" data-aos="fade-right">
          <div class="rounded-3xl overflow-hidden shadow-lg border border-border-pink bg-block-light">
            <img src="7.jpg" class="uniform-img" alt="Groom">
          </div>
          <!-- Thẻ thông tin hiện khi hover -->
          <div class="absolute inset-3 bg-block-light/95 rounded-3xl shadow-2xl flex flex-col items-center justify-center text-center px-6 py-10 opacity-0 translate-y-6 group-hover:opacity-100 group-hover:translate-y-0 transition duration-500">
            <p class="font-heading text-4xl text-accent-pink mb-2">Trung Hiếu</p>
            <p class="uppercase text-xs tracking-[0.3em] text-text-dark/60 mb-4">THE GROOM</p>
            <p class="text-base leading-relaxed text-text-dark/80">
              Là một người hiền lành nhưng nói nhiều, thích đi du lịch, thích kiếm tiền và tiêu tiền.
              Luôn coi trọng tình cảm và gia đình.
            </p>
          </div>
          <!-- Viền kép vẽ dần khi hover -->
          <div class="overlay-border">
            <svg viewBox="0 0 100 100" preserveAspectRatio="none">
              <!-- Outer portrait rect -->
              <line x1="50" y1="2" x2="2" y2="2" pathLength="100" />
              <line x1="50" y1="2" x2="98" y2="2" pathLength="100" />
              <line x1="98" y1="2" x2="98" y2="50" pathLength="100" />
              <line x1="98" y1="50" x2="98" y2="98" pathLength="100" />
              <line x1="98" y1="98" x2="50" y2="98" pathLength="100" />
              <line x1="50" y1="98" x2="2" y2="98" pathLength="100" />
              <line x1="2" y1="98" x2="2" y2="50" pathLength="100" />
              <line x1="2" y1="50" x2="2" y2="2" pathLength="100" />
              <!-- Inner rect (offset 4 units on all sides) -->
              <line class="inner-frame" x1="50" y1="6" x2="6" y2="6" pathLength="100" />
              <line class="inner-frame" x1="50" y1="6" x2="94" y2="6" pathLength="100" />
              <line class="inner-frame" x1="94" y1="6" x2="94" y2="50" pathLength="100" />
              <line class="inner-frame" x1="94" y1="50" x2="94" y2="94" pathLength="100" />
              <line class="inner-frame" x1="94" y1="94" x2="50" y2="94" pathLength="100" />
              <line class="inner-frame" x1="50" y1="94" x2="6" y2="94" pathLength="100" />
              <line class="inner-frame" x1="6" y1="94" x2="6" y2="50" pathLength="100" />
              <line class="inner-frame" x1="6" y1="50" x2="6" y2="6" pathLength="100" />
            </svg>
          </div>
        </div>

        <!-- Thông tin cô dâu -->
        <div class="group relative person-photo scroll-animate" data-aos="fade-left">
          <div class="rounded-3xl overflow-hidden shadow-lg border border-border-pink bg-block-light">
            <img src="8.jpg" class="uniform-img" alt="Bride">
          </div>
          <!-- Thẻ thông tin hiện khi hover -->
          <div class="absolute inset-3 bg-block-light/95 rounded-3xl shadow-2xl flex flex-col items-center justify-center text-center px-6 py-10 opacity-0 translate-y-6 group-hover:opacity-100 group-hover:translate-y-0 transition duration-500">
            <p class="font-heading text-4xl text-accent-pink mb-2">Thanh Phương</p>
            <p class="uppercase text-xs tracking-[0.3em] text-text-dark/60 mb-4">THE BRIDE</p>
            <p class="text-base leading-relaxed text-text-dark/80">
              Là một người hay cười nhưng sống nội tâm, thích hoa, thích mua sắm, thích đi
              những nơi có gió và luôn mơ về một ngôi nhà nhỏ.
            </p>
          </div>
          <!-- Viền kép vẽ dần khi hover -->
          <div class="overlay-border">
            <svg viewBox="0 0 100 100" preserveAspectRatio="none">
              <!-- Outer portrait rect -->
              <line x1="50" y1="2" x2="2" y2="2" pathLength="100" />
              <line x1="50" y1="2" x2="98" y2="2" pathLength="100" />
              <line x1="98" y1="2" x2="98" y2="50" pathLength="100" />
              <line x1="98" y1="50" x2="98" y2="98" pathLength="100" />
              <line x1="98" y1="98" x2="50" y2="98" pathLength="100" />
              <line x1="50" y1="98" x2="2" y2="98" pathLength="100" />
              <line x1="2" y1="98" x2="2" y2="50" pathLength="100" />
              <line x1="2" y1="50" x2="2" y2="2" pathLength="100" />
              <!-- Inner rect (offset 4 units on all sides) -->
              <line class="inner-frame" x1="50" y1="6" x2="6" y2="6" pathLength="100" />
              <line class="inner-frame" x1="50" y1="6" x2="94" y2="6" pathLength="100" />
              <line class="inner-frame" x1="94" y1="6" x2="94" y2="50" pathLength="100" />
              <line class="inner-frame" x1="94" y1="50" x2="94" y2="94" pathLength="100" />
              <line class="inner-frame" x1="94" y1="94" x2="50" y2="94" pathLength="100" />
              <line class="inner-frame" x1="50" y1="94" x2="6" y2="94" pathLength="100" />
              <line class="inner-frame" x1="6" y1="94" x2="6" y2="50" pathLength="100" />
              <line class="inner-frame" x1="6" y1="50" x2="6" y2="6" pathLength="100" />
            </svg>
          </div>
        </div>
      </div>

      <!-- Đoạn cảm ơn ngắn cuối phần giới thiệu -->
      <div class="mt-16 text-center scroll-animate">
        <h2 class="font-heading text-4xl md:text-5xl text-accent-pink mb-6">
          Và.. Ngày ấy đã tới
        </h2>
        <p class="max-w-3xl mx-auto mb-5 text-base md:text-lg text-text-dark/80">
          Thật vui vì được gặp và đón tiếp các bạn trong một dịp đặc biệt - Ngày cưới của chúng mình.
          Chúng mình muốn gửi đến bạn lời cảm ơn sâu sắc nhất vì đã luôn ở bên và chia sẻ cùng tụi mình.
        </p>
        <p class="font-art text-4xl md:text-6xl mb-12 text-accent-pink">Trung Hiếu &amp; Thanh Phương</p>

        <div class="grid md:grid-cols-2 gap-8 text-base text-text-dark/80 max-w-3xl mx-auto">
          <div>
            <p class="uppercase text-xs tracking-wide text-text-dark/60 mb-1">Nhà trai</p>
            <p>Con ông: <span class="font-semibold">Y</span></p>
            <p>Con bà: <span class="font-semibold">X</span></p>
          </div>
          <div>
            <p class="uppercase text-xs tracking-wide text-text-dark/60 mb-1">Nhà gái</p>
            <p>Con ông: <span class="font-semibold">A</span></p>
            <p>Con bà: <span class="font-semibold">B</span></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- KHU 3: Tiêu đề câu chuyện tình yêu -->
  <section class="my-10">
        <div class="diagonal-section bg-center bg-cover bg-fixed"
          style="background-image:url('ring.jpg');">
      <div class="bg-block-light/80 py-16 md:py-24">
        <div class="max-w-6xl mx-auto px-4 text-center text-text-dark scroll-animate">
          <h2 class="font-heading text-4xl md:text-5xl mb-5">Chuyện chúng mình</h2>
          <div class="flex justify-center">
            <span class="w-16 border-t border-text-dark/40"></span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- KHU 4: Timeline chuyện tình -->
  <section id="timeline" class="py-16 md:py-20 bg-milky tulip-bg">
    <div class="max-w-4xl mx-auto px-4">
      <div class="relative">
        <div class="absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 border-l-2 border-border-pink hidden md:block"></div>

        <!-- Mốc 1: bắt đầu tình cờ -->
        <div class="mb-16 md:grid md:grid-cols-2 md:gap-12 items-center timeline-item scroll-animate">
          <div class="md:text-right md:pr-8 order-2 md:order-1">
            <div class="inline-block double-border border-border-pink bg-block-light px-8 py-6 rounded-2xl shadow-sm">
              <p class="font-heading text-accent-pink text-2xl mb-3">Bắt đầu thật tình cờ</p>
              <p class="text-base leading-relaxed">
                Vào một ngày đẹp trời, chú rể rep story của cô dâu và câu chuyện của chúng mình bắt đầu từ đó.
              </p>
            </div>
          </div>
          <div class="md:pl-8 order-1 md:order-2 mb-6 md:mb-0 flex justify-center">
            <img src="9.jpg" class="rounded-3xl shadow-lg border border-border-pink uniform-img" alt="">
          </div>
        </div>

        <!-- Hộp trích dẫn ở giữa timeline -->
        <div class="mb-16 flex justify-center timeline-item scroll-animate">
          <div class="double-border bg-block-light px-10 py-10 rounded-2xl max-w-2xl text-center">
            <p class="font-heading text-accent-pink text-2xl md:text-3xl leading-relaxed">
              “Tình yêu là sự cảm động, là những ngày cùng nhau đi qua nắng mưa, là người vẫn ở đó chờ mình mỗi khi quay về.”
            </p>
          </div>
        </div>

        <!-- Mốc 2: cùng nhau trưởng thành -->
        <div class="mb-16 md:grid md:grid-cols-2 md:gap-12 items-center timeline-item scroll-animate">
          <div class="md:pr-8 mb-6 md:mb-0 flex justify-center">
            <img src="10.jpg" class="rounded-3xl shadow-lg border border-border-pink uniform-img" alt="">
          </div>
          <div class="md:pl-8">
            <div class="inline-block double-border bg-block-light px-8 py-6 rounded-2xl text-text-dark shadow-md">
              <p class="font-heading text-3xl mb-3">Cùng nhau trưởng thành</p>
              <p class="text-base leading-relaxed text-text-dark/85">
                Chúng mình đã cùng nhau đi qua rất nhiều yêu thương và thử thách. Vui có, buồn có, nhưng cuối cùng vẫn chọn nắm tay nhau.
              </p>
            </div>
          </div>
        </div>

        <!-- Mốc 3: lời cầu hôn -->
        <div class="mb-4 md:grid md:grid-cols-2 md:gap-12 items-center timeline-item scroll-animate">
          <div class="md:text-right md:pr-8 order-2 md:order-1">
            <div class="inline-block double-border bg-block-light px-8 py-6 rounded-2xl text-text-dark shadow-md">
              <p class="font-heading text-3xl mb-3">Lời cầu hôn</p>
              <p class="text-base leading-relaxed text-text-dark/85">
                Sau khoảng thời gian tìm hiểu và yêu nhau, chú rể đã ngỏ lời cầu hôn cô dâu trong một ngày đầy bất ngờ và hạnh phúc.
              </p>
              <p class="mt-4 text-xs uppercase tracking-[0.3em] text-text-dark/70">
                13/04/2025
              </p>
            </div>
          </div>
          <div class="md:pl-8 order-1 md:order-2 mb-6 md:mb-0 flex justify-center">
            <img src="11.jpg" class="rounded-3xl shadow-lg border border-border-pink uniform-img" alt="">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- KHU 5: Đồng hồ đếm ngược -->
  <section id="countdown" class="py-16 md:py-20 relative">
    <div class="absolute inset-0">
      <img src="12.jpg" class="w-full h-full object-cover" alt="">
      <div class="absolute inset-0 bg-block-light/85 backdrop-blur-sm"></div>
    </div>

    <div class="relative max-w-5xl mx-auto px-4">
      <div class="grid md:grid-cols-2 gap-12 bg-block-light/90 rounded-3xl shadow-2xl overflow-hidden scroll-animate">
        <!-- Cột nội dung bên trái -->
        <div class="p-10 md:p-14 flex flex-col justify-center border-b md:border-b-0 md:border-r border-border-pink">
          <p class="font-heading text-4xl md:text-5xl text-accent-pink mb-5">
            Save The Date
          </p>
          <p class="text-base md:text-lg text-text-dark/80 mb-5">
            Một lời chúc của bạn chắc chắn sẽ làm cho đám cưới của chúng mình có thêm thật nhiều niềm hạnh phúc.
          </p>
          <p class="font-heading text-4xl text-text-dark mb-3">
            Trung Hiếu &amp; Thanh Phương
          </p>
          <p class="text-base text-text-dark/70 mb-8 text-center">
            20 tháng 12 2025
          </p>
          <div class="flex flex-nowrap gap-3">
            <a href="#guestbook"
               class="px-5 py-2.5 border border-border-pink text-accent-pink rounded-full text-[11px] md:text-xs whitespace-nowrap hover:bg-primary-pink hover:text-white transition">
              GỬI LỜI CHÚC
            </a>
            <button onclick="openRSVP()"
              class="px-5 py-2.5 border border-border-pink text-accent-pink rounded-full text-[11px] md:text-xs whitespace-nowrap hover:bg-primary-pink hover:text-white transition">
              XÁC NHẬN THAM DỰ
            </button>
          </div>
        </div>

        <!-- Cột bên phải hiển thị đồng hồ -->
        <div class="p-10 md:p-14 flex flex-col items-center justify-center text-center">
          <p class="font-heading text-4xl text-accent-pink mb-6">
            The Big Day!
          </p>
          <p class="text-base md:text-lg text-text-dark/70 mb-5">20 tháng 12 2025</p>
          <div class="grid grid-cols-4 gap-4 w-full mb-5">
            <div class="double-border bg-block-light rounded-2xl px-3 py-4 flex flex-col items-center justify-center">
              <span id="days" class="font-heading text-3xl md:text-5xl text-accent-pink">0</span>
              <span class="text-xs mt-2">Ngày</span>
            </div>
            <div class="double-border bg-block-light rounded-2xl px-3 py-4 flex flex-col items-center justify-center">
              <span id="hours" class="font-heading text-3xl md:text-5xl text-accent-pink">0</span>
              <span class="text-xs mt-2">Giờ</span>
            </div>
            <div class="double-border bg-block-light rounded-2xl px-3 py-4 flex flex-col items-center justify-center">
              <span id="minutes" class="font-heading text-3xl md:text-5xl text-accent-pink">0</span>
              <span class="text-xs mt-2">Phút</span>
            </div>
            <div class="double-border bg-block-light rounded-2xl px-3 py-4 flex flex-col items-center justify-center">
              <span id="seconds" class="font-heading text-3xl md:text-5xl text-accent-pink">0</span>
              <span class="text-xs mt-2">Giây</span>
            </div>
          </div>
          <p class="text-sm text-text-dark/70">
            Hẹn gặp bạn vào ngày 20/12/2025 để cùng chứng kiến khoảnh khắc chúng mình về chung một nhà.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- KHU 6: Album ảnh cưới -->
  <section id="gallery" class="py-16 md:py-20 bg-block-light">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-12 scroll-animate">
        <p class="font-heading text-4xl md:text-5xl text-text-dark mb-4">
          Album Hình Cưới
        </p>
        <div class="flex items-center justify-center gap-3 text-accent-pink">
          <span class="w-10 border-t border-border-pink"></span>
          <i class="fa-regular fa-gem"></i>
          <span class="w-10 border-t border-border-pink"></span>
        </div>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-3 gap-4 scroll-animate">
        <!-- 9 ảnh demo hiển thị trực tiếp -->
        <template id="gallery-template"></template>
        <script>
          // render using JS so code ngắn hơn
        </script>
        <!-- Ảnh dự phòng nếu trình duyệt tắt JS -->
        <img src="4.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="5.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="6.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="7.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="8.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="9.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="10.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="11.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="12.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
      </div>
    </div>
  </section>

  <!-- KHU 7: Thông tin sự kiện với nền parallax -->
  <section id="events" class="py-16 md:py-24 relative">
    <div class="absolute inset-0">
      <img src="13.jpg" class="w-full h-full object-cover" alt="">
      <div class="absolute inset-0 bg-block-light/85"></div>
    </div>

    <div class="relative max-w-6xl mx-auto px-4">
      <div class="flex flex-col md:flex-row md:justify-start">
        <div class="w-full bg-block-light text-text-dark rounded-3xl shadow-2xl double-border px-8 md:px-12 py-12 md:py-14 scroll-animate" data-aos="fade-right">
          <h2 class="font-heading text-5xl md:text-5xl mb-7 text-center">
            Thông tin sự kiện
          </h2>
          <p class="text-base md:text-xl text-text-dark/80 mb-9 text-center">
            Rất mong bạn sẽ sắp xếp thời gian để cùng đến chung vui và chứng kiến khoảnh khắc ý nghĩa nhất của chúng mình.
          </p>

          <!-- Các thẻ thông tin từng buổi lễ -->
          <div class="grid gap-6 md:grid-cols-2">
            <div class="bg-block-light text-text-dark rounded-2xl px-6 py-6 border-4 border-border-pink border-double h-full flex flex-col">
              <div class="flex gap-4 items-start mb-4">
                <div class="w-12 h-12 rounded-full bg-primary-pink/70 flex items-center justify-center flex-shrink-0">
                  <i class="fa-solid fa-utensils text-accent-pink"></i>
                </div>
                <div class="text-base md:text-lg flex-1 space-y-2">
                  <p class="font-heading text-4xl md:text-4xl text-accent-pink">Bữa Cơm Thân Mật</p>
                  <p>18:30 · 18/12/2025</p>
                  <div>
                    <p class="font-semibold text-sm md:text-base">Nhà trai</p>
                    <p class="text-sm md:text-base">Thôn Phú An, H. Đông Anh</p>
                    <a href="https://maps.google.com/?q=Thon+Phu+An+Dong+Anh" target="_blank" class="inline-flex items-center gap-2 mt-2 text-xs md:text-sm text-accent-pink underline">
                      <i class="fa-solid fa-location-dot"></i> Google Maps
                    </a>
                  </div>
                  <div>
                    <p class="font-semibold text-sm md:text-base">Nhà gái</p>
                    <p class="text-sm md:text-base">Phố Lạch, Q. Ba Đình</p>
                    <a href="https://maps.google.com/?q=Pho+Lach+Ba+Dinh" target="_blank" class="inline-flex items-center gap-2 mt-2 text-xs md:text-sm text-accent-pink underline">
                      <i class="fa-solid fa-location-dot"></i> Google Maps
                    </a>
                  </div>
                </div>
              </div>
              <div class="mt-auto pt-2 text-sm text-text-dark/60">
                Cùng quây quần trước ngày trọng đại để chia sẻ niềm vui với gia đình hai bên.
              </div>
            </div>

            <div class="bg-block-light text-text-dark rounded-2xl px-6 py-6 border-4 border-border-pink border-double h-full flex flex-col">
              <div class="flex flex-col gap-6 text-base md:text-lg">
                <div class="flex gap-4 items-start">
                  <div class="w-12 h-12 rounded-full bg-primary-pink/70 flex items-center justify-center flex-shrink-0">
                    <i class="fa-solid fa-ring text-accent-pink"></i>
                  </div>
                  <div class="flex-1">
                    <p class="font-heading text-4xl md:text-4xl text-accent-pink mb-2">Lễ Vu Quy</p>
                    <p>08:00 · 19/12/2025</p>
                    <p>Nhà riêng cô dâu, Hà Nội</p>
                    <a href="https://maps.google.com/?q=Nha+rieng+co+dau+Ha+Noi" target="_blank" class="inline-flex items-center gap-2 mt-2 text-xs md:text-sm text-accent-pink underline">
                      <i class="fa-solid fa-location-dot"></i> Google Maps
                    </a>
                  </div>
                </div>
                <div class="flex gap-4 items-start border-t border-border-pink pt-4">
                  <div class="w-12 h-12 rounded-full bg-primary-pink/70 flex items-center justify-center flex-shrink-0">
                    <i class="fa-solid fa-champagne-glasses text-accent-pink"></i>
                  </div>
                  <div class="flex-1">
                    <p class="font-heading text-4xl md:text-4xl text-accent-pink mb-2">Lễ Thành Hôn</p>
                    <p>11:00 · 20/12/2025</p>
                    <p>Trung tâm tiệc cưới ABC, Hà Nội</p>
                    <a href="https://maps.google.com/?q=Trung+tam+tiec+cuoi+ABC+Ha+Noi" target="_blank" class="inline-flex items-center gap-2 mt-2 text-xs md:text-sm text-accent-pink underline">
                      <i class="fa-solid fa-location-dot"></i> Google Maps
                    </a>
                  </div>
                </div>
              </div>
              <div class="mt-auto pt-2 text-sm text-text-dark/60">
                Hẹn gặp bạn trong hai khoảnh khắc trọng đại: Vu Quy tại nhà gái và Thành Hôn tại trung tâm tiệc cưới.
              </div>
            </div>

            
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- KHU 8: Sổ lưu bút -->
  <section id="guestbook" class="py-16 md:py-20 bg-block-light relative overflow-hidden">
    <!-- Trang trí lá ở hai góc -->
    <div class="absolute -left-10 top-10 opacity-20">
      <svg class="leaf-svg" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#b2cee5" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="absolute -right-10 bottom-10 opacity-20 rotate-180">
      <svg class="leaf-svg" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#b2cee5" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
    </div>

    <div class="max-w-3xl mx-auto px-4 relative">
      <div class="text-center mb-10 scroll-animate">
        <h2 class="font-heading text-4xl md:text-5xl mb-3 text-text-dark">Sổ lưu bút</h2>
        <p class="text-base text-text-dark/70">
          Hãy để lại lời chúc, kỷ niệm hoặc bất cứ điều gì bạn muốn gửi đến tụi mình nhé!
        </p>
      </div>

      <form id="guestbookForm" class="double-border rounded-3xl bg-milky px-7 md:px-10 py-10 space-y-7 scroll-animate">
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <label class="text-xs uppercase tracking-wide text-text-dark/60">Họ và tên</label>
            <input name="name" type="text" required class="w-full mt-2 bg-transparent border-b border-border-pink focus:outline-none focus:border-text-dark py-2 text-base" placeholder="Nhập tên của bạn">
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-text-dark/60">Email / Số điện thoại</label>
            <input name="contact" type="text" class="w-full mt-2 bg-transparent border-b border-border-pink focus:outline-none focus:border-text-dark py-2 text-base" placeholder="(Không bắt buộc)">
          </div>
        </div>
        <div>
          <label class="text-xs uppercase tracking-wide text-text-dark/60">Lời chúc</label>
          <textarea name="message" rows="4" required class="w-full mt-2 bg-transparent border border-border-pink focus:outline-none focus:border-text-dark rounded-2xl px-4 py-3 text-base" placeholder="Viết vài dòng cho tụi mình nhé..."></textarea>
        </div>
        <div class="text-center">
          <button id="guestbookSubmit" type="submit"
                  class="inline-flex items-center gap-3 px-8 py-3 rounded-full border border-border-pink text-accent-pink text-sm md:text-base hover:bg-primary-pink hover:text-white transition">
            <i class="fa-regular fa-paper-plane"></i>
            GỬI LỜI CHÚC
          </button>
          <div id="guestbookThanks" class="hidden text-base text-accent-pink mt-4">Cảm ơn bạn đã gửi lời chúc!</div>
          <div id="guestbookError" class="hidden text-sm text-red-600 mt-3">Vui lòng nhập tên và lời chúc.</div>
          <div id="guestbookList" class="mt-6 space-y-3 max-w-2xl mx-auto text-left"></div>
        </div>
      </form>
    </div>
  </section>

  <!-- KHU 9: Hộp mừng cưới bằng QR -->
  <section id="qr" class="py-16 md:py-20 bg-block-light">
    <div class="max-w-5xl mx-auto px-4">
      <div class="text-center mb-12 scroll-animate">
        <h2 class="font-heading text-4xl md:text-5xl mb-3 text-text-dark">Hộp mừng cưới</h2>
        <p class="text-base text-text-dark/70 max-w-2xl mx-auto">
          Sự hiện diện của bạn là món quà quý giá nhất. Nếu không thể tham dự hoặc muốn gửi lời chúc qua hình thức online,
          bạn có thể quét mã QR dưới đây.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-8 scroll-animate">
        <!-- Thẻ QR nhà trai -->
        <div class="bg-block-light rounded-3xl text-text-dark p-8 md:p-10 double-border">
          <h3 class="font-heading text-4xl md:text-5xl mb-3 text-center">Nhà trai</h3>
          <p class="text-base md:text-lg text-center mb-5 text-text-dark/70">Trung Hiếu</p>
          <div class="border border-border-pink rounded-2xl p-5 flex flex-col items-center gap-4 bg-block-light/60">
            <img src="7.jpg" class="rounded-xl bg-block-light" alt="QR Groom">
            <div class="text-sm space-y-1 text-center">
              <p>Ngân hàng: <span class="font-semibold">A</span></p>
              <p>Chủ tài khoản: <span class="font-semibold">NGUYEN TRUNG HIEU</span></p>
              <p>Số tài khoản: <span class="font-semibold tracking-widest">0123 456 789</span></p>
              <p>Nội dung: <span class="italic">[Tên bạn] mừng cưới</span></p>
            </div>
          </div>
        </div>

        <!-- Thẻ QR nhà gái -->
        <div class="bg-block-light rounded-3xl text-text-dark p-8 md:p-10 double-border">
          <h3 class="font-heading text-4xl md:text-5xl mb-3 text-center">Nhà gái</h3>
          <p class="text-base md:text-lg text-center mb-5 text-text-dark/70">Thanh Phương</p>
          <div class="border border-border-pink rounded-2xl p-5 flex flex-col items-center gap-4 bg-block-light/60">
            <img src="8.jpg" class="rounded-xl bg-block-light" alt="QR Bride">
            <div class="text-sm space-y-1 text-center">
              <p>Ngân hàng: <span class="font-semibold">B</span></p>
              <p>Chủ tài khoản: <span class="font-semibold">NGUYEN THANH PHUONG</span></p>
              <p>Số tài khoản: <span class="font-semibold tracking-widest">123456789</span></p>
              <p>Nội dung: <span class="italic">[Tên bạn] mừng cưới</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>

<div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Ảnh cưới phóng to" aria-hidden="true">
  <img id="lightbox-image" alt="Ảnh cưới phóng to" />
  <button type="button" id="lightbox-close" aria-label="Đóng ảnh phóng to">&times;</button>
</div>


<!-- MODAL RSVP xác nhận tham dự -->
<div id="rsvpModal" class="modal">
  <div class="bg-block-light rounded-3xl max-w-md w-full mx-4 p-7 md:p-10 relative shadow-2xl scroll-animate">
    <button onclick="closeRSVP()" class="absolute top-4 right-4 text-2xl text-text-dark/50 hover:text-accent-pink transition">
      &times;
    </button>
    <h2 class="font-heading text-3xl md:text-4xl text-center mb-7 text-accent-pink">Xác nhận tham dự</h2>
    <form id="rsvpForm" class="space-y-5">
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Họ và tên *</label>
        <input name="name" type="text" required class="w-full mt-2 bg-transparent border-b border-border-pink focus:outline-none focus:border-text-dark py-2 text-base" placeholder="Nhập họ tên của bạn">
      </div>
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Số điện thoại</label>
        <input name="phone" type="tel" class="w-full mt-2 bg-transparent border-b border-border-pink focus:outline-none focus:border-text-dark py-2 text-base" placeholder="Số điện thoại">
      </div>
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Số người đi cùng</label>
        <input name="guests" type="number" min="1" max="10" value="1" class="w-full mt-2 bg-transparent border-b border-border-pink focus:outline-none focus:border-text-dark py-2 text-base" placeholder="1">
      </div>
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Lưu ý (nếu có)</label>
        <textarea name="note" rows="3" class="w-full mt-2 bg-transparent border border-border-pink focus:outline-none focus:border-text-dark rounded-2xl px-4 py-3 text-base" placeholder="Ví dụ: Ăn chay, dị ứng thực phẩm..."></textarea>
      </div>
      <div class="text-center pt-2">
        <button type="submit" class="px-9 py-3 bg-block-light border border-border-pink text-accent-pink rounded-full text-base hover:bg-primary-pink hover:text-white transition">
          <i class="fa-solid fa-check mr-2"></i>Xác nhận
        </button>
      </div>
      <div id="rsvpThanks" class="hidden text-center text-base text-accent-pink mt-4">Cảm ơn bạn đã xác nhận tham dự! Hẹn gặp bạn trong ngày vui.</div>
    </form>
  </div>
</div>

<!-- KHU 10: Chân trang cảm ơn -->
<footer class="bg-primary-pink border-t border-border-pink text-text-dark py-10 md:py-12">
  <div class="max-w-4xl mx-auto px-4 text-center scroll-animate">
    <!-- Leaf around name -->
    <div class="flex items-center justify-center gap-3 mb-4">
      <svg class="leaf-svg rotate-180 opacity-80" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#000000" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
      <h2 class="font-heading text-3xl sm:text-4xl md:text-5xl lg:text-6xl">Trung Hiếu &amp; Thanh Phương</h2>
      <svg class="leaf-svg opacity-80" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#000000" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
    </div>
    <p class="text-sm md:text-base text-text-dark/80">
      Cảm ơn bạn vì đã là một phần trong hành trình yêu thương của chúng mình.
    </p>
  </div>
</footer>

<!-- Cụm nút nổi thao tác nhanh -->
<div class="fixed bottom-5 right-5 z-50 flex flex-col gap-3">
  <!-- Menu / scroll to top -->
  <button id="btn-top"
      class="w-12 h-12 rounded-full bg-block-light border border-border-pink shadow-lg text-accent-pink flex items-center justify-center hover:scale-105 transition"
          title="Về đầu trang">
      <i class="fa-solid fa-house"></i>
  </button>

  <!-- Gift / scroll to QR -->
  <button id="btn-gift"
      class="w-12 h-12 rounded-full bg-block-light border border-border-pink shadow-lg text-accent-pink flex items-center justify-center hover:scale-105 transition"
          title="Đến phần mừng cưới">
    <i class="fa-solid fa-gift"></i>
  </button>

    <!-- Comment / scroll to guestbook -->
    <button id="btn-comment"
          class="w-12 h-12 rounded-full bg-block-light border border-border-pink shadow-lg text-accent-pink flex items-center justify-center hover:scale-105 transition"
            title="Gửi lời chúc">
      <i class="fa-regular fa-comment"></i>
    </button>

  <!-- Music toggle -->
  <button id="btn-music"
      class="w-12 h-12 rounded-full bg-block-light border border-border-pink shadow-lg text-accent-pink flex items-center justify-center hover:scale-105 transition"
          title="Bật / tắt nhạc nền">
    <i id="music-icon" class="fa-solid fa-music"></i>
  </button>
</div>

<!-- SCRIPTS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  // Khởi tạo AOS để kích hoạt animation khi cuộn
  AOS.init({
    duration: 800,
    once: true
  });

  const animatedElements = document.querySelectorAll('.scroll-animate');
  const floatObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
      } else {
        entry.target.classList.remove('is-visible');
      }
    });
  }, { threshold: 0.2 });
  animatedElements.forEach(element => floatObserver.observe(element));

  // Theo dõi các mốc timeline: vào khung nhìn thì thêm class visible
  const timelineItems = document.querySelectorAll('.timeline-item');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      } else {
        entry.target.classList.remove('visible');
      }
    });
  }, { threshold: 0.3 });
  timelineItems.forEach(item => observer.observe(item));

  // Bộ đếm ngược đến ngày cưới
  (function () {
    const targetDate = new Date('2025-12-20T00:00:00+07:00').getTime();
    function updateCountdown() {
      const now = Date.now();
      const isPast = now > targetDate;
      const diff = isPast ? (now - targetDate) : (targetDate - now);
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      document.getElementById('days').textContent = String(days).padStart(2, '0');
      document.getElementById('hours').textContent = String(hours).padStart(2, '0');
      document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
      document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);
  })();

  // Bắt sự kiện cho các nút nổi (về đầu trang, chuyển khu vực...)
  const btnTop = document.getElementById('btn-top');
  const btnGift = document.getElementById('btn-gift');
  const btnComment = document.getElementById('btn-comment');
  const btnMusic = document.getElementById('btn-music');
  const musicIcon = document.getElementById('music-icon');
  const audio = document.getElementById('bg-music');
  const galleryImages = document.querySelectorAll('#gallery img');
  const lightbox = document.getElementById('lightbox');
  const lightboxImage = document.getElementById('lightbox-image');
  const lightboxClose = document.getElementById('lightbox-close');

  btnTop.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  btnGift.addEventListener('click', () => {
    document.getElementById('qr').scrollIntoView({ behavior: 'smooth' });
  });

  if (btnComment) {
    btnComment.addEventListener('click', () => {
      document.getElementById('guestbook').scrollIntoView({ behavior: 'smooth' });
    });
  }

  let isPlaying = false;
  btnMusic.addEventListener('click', () => {
    if (!isPlaying) {
      audio.play().catch(() => {});
      isPlaying = true;
      musicIcon.classList.add('spin-slow');
    } else {
      audio.pause();
      isPlaying = false;
      musicIcon.classList.remove('spin-slow');
    }
  });

  if (galleryImages.length && lightbox && lightboxImage && lightboxClose) {
    let lastFocusedElement = null;
    const showLightbox = (src) => {
      lightboxImage.src = src;
      lightbox.classList.add('active');
      lightbox.setAttribute('aria-hidden', 'false');
      lightboxClose.focus({ preventScroll: true });
    };
    const hideLightbox = () => {
      lightbox.classList.remove('active');
      lightboxImage.src = '';
      lightbox.setAttribute('aria-hidden', 'true');
      if (lastFocusedElement) {
        lastFocusedElement.focus({ preventScroll: true });
      }
      lastFocusedElement = null;
    };
    galleryImages.forEach(img => {
      img.setAttribute('tabindex', '0');
      img.setAttribute('role', 'button');
      if (!img.getAttribute('aria-label')) {
        img.setAttribute('aria-label', 'Phóng to ảnh cưới');
      }
      img.addEventListener('click', () => {
        lastFocusedElement = img;
        showLightbox(img.src);
      });
      img.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          lastFocusedElement = img;
          showLightbox(img.src);
        }
      });
    });
    lightbox.addEventListener('click', (event) => {
      if (event.target === lightbox) {
        hideLightbox();
      }
    });
    lightboxClose.addEventListener('click', hideLightbox);
    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        hideLightbox();
      }
    });
  }

  // Áp dụng hiệu ứng chữ trôi nhẹ cho toàn bộ nội dung
  // Không áp hiệu ứng trôi lơ lửng toàn trang

  // RSVP Modal functions
  function openRSVP() {
    document.getElementById('rsvpModal').classList.add('active');
  }

  function closeRSVP() {
    document.getElementById('rsvpModal').classList.remove('active');
  }

  // Close modal on outside click
  document.getElementById('rsvpModal').addEventListener('click', (e) => {
    if (e.target.id === 'rsvpModal') {
      closeRSVP();
    }
  });

  // Tạo trái tim rơi ngẫu nhiên
  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.innerHTML = '❤';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
    heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
    document.getElementById('hearts-container').appendChild(heart);

    setTimeout(() => {
      heart.remove();
    }, 7000);
  }

  // Điều chỉnh tần suất tạo tim theo độ rộng màn hình
  const HEART_INTERVAL = window.innerWidth < 640 ? 1600 : 900;
  setInterval(createHeart, HEART_INTERVAL);

  // Xác định URL backend tùy môi trường (localhost hay deploy)
  const API_OVERRIDE = window.API_BASE_URL || window.API_BASE || window.__API_BASE__ || '';
  const localHosts = ['localhost', '127.0.0.1', '0.0.0.0'];
  const needsProxy = localHosts.includes(window.location.hostname)
    && window.location.port
    && window.location.port !== '3000';
  const API_BASE = API_OVERRIDE || (needsProxy ? 'http://localhost:3000' : '');
  const API_RSVP = `${API_BASE}/api/rsvp`;
  const API_GUESTBOOK = `${API_BASE}/api/guestbook`;

  // Gửi dữ liệu RSVP về backend và phản hồi người dùng
  const rsvpForm = document.getElementById('rsvpForm');
  if (rsvpForm) {
    rsvpForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(rsvpForm);
      const payload = {
        name: formData.get('name'),
        phone: formData.get('phone') || '',
        guests: formData.get('guests') || 1,
        note: formData.get('note') || '',
        type: 'RSVP',
        timestamp: new Date().toISOString()
      };

      try {
        await fetch(API_RSVP, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
      } catch (err) {
        console.warn('RSVP save failed (placeholder URL?)', err);
      }

      document.getElementById('rsvpThanks').classList.remove('hidden');
      setTimeout(() => closeRSVP(), 1800);
    });
  }

  // Xử lý gửi lời chúc và hiển thị ngay trên trang
  const guestbookForm = document.getElementById('guestbookForm');
  const guestbookList = document.getElementById('guestbookList');
  const guestbookThanks = document.getElementById('guestbookThanks');
  const latestMessages = [];

  // Nạp danh sách lời chúc mới nhất từ API
  async function loadGuestbook() {
    if (!guestbookList) return;
    try {
      const res = await fetch(API_GUESTBOOK);
      if (!res.ok) throw new Error('Failed to load guestbook');
      const data = await res.json();
      const items = Array.isArray(data.items) ? data.items : [];
      latestMessages.length = 0;
      latestMessages.push(...items);
    } catch (err) {
      console.warn('Load guestbook failed', err);
    }
    renderGuestbook();
  }

  // Hiển thị tối đa 3 lời chúc mới nhất
  function renderGuestbook() {
    if (!guestbookList) return;
    guestbookList.innerHTML = latestMessages.slice(0, 3).map((m) => `
      <div class="border border-border-pink p-3">
        <div class="text-xs text-text-dark/60">${m.name || 'Ẩn danh'}</div>
        <div class="text-sm mt-1">${m.message}</div>
      </div>
    `).join('');
  }

  if (guestbookForm) {
    guestbookForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(guestbookForm);
      const nameVal = (fd.get('name') || '').trim();
      const msgVal = (fd.get('message') || '').trim();
      if (!nameVal || !msgVal) {
        const errBox = document.getElementById('guestbookError');
        if (errBox) {
          errBox.classList.remove('hidden');
          setTimeout(() => errBox.classList.add('hidden'), 2500);
        }
        return;
      }
      const entry = {
        name: nameVal,
        contact: (fd.get('contact') || '').trim(),
        message: msgVal,
        type: 'GUESTBOOK',
        timestamp: new Date().toISOString()
      };

      latestMessages.unshift(entry);
      renderGuestbook();

      try {
        await fetch(API_GUESTBOOK, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(entry)
        });
      } catch (err) {
        console.warn('Guestbook save failed (placeholder URL?)', err);
      }

      if (guestbookThanks) {
        guestbookThanks.classList.remove('hidden');
        setTimeout(() => guestbookThanks.classList.add('hidden'), 2000);
      }
      guestbookForm.reset();
      await loadGuestbook();
    });
  }

  loadGuestbook();
</script>

</body>
</html>
