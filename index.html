<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Trung Hiếu & Thanh Phương - Wedding Invitation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'primary-pink': '#e04545',
            'accent-pink': '#e04545',
            'text-dark': '#4A4A4A',
            'border-pink': '#e04545',
            'milky': '#fff8f2'
          },
          fontFamily: {
            heading: ['Playfair Display', 'serif'],
            body: ['Montserrat', 'sans-serif'],
          }
        }
      }
    }
  </script>

  <!-- AOS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="bg-milky text-text-dark">

<!-- Falling hearts -->
<div id="hearts-container"></div>

<!-- AUDIO (background music) -->
<audio id="bg-music" loop>
  <!-- Fallback demo if file missing -->
  <source src="nhac_nen.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<!-- TOP MINI BAR -->
<header class="fixed top-0 left-0 right-0 z-40 bg-white/70 backdrop-blur border-b border-border-pink">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between text-sm">
    <div class="font-heading text-accent-pink text-lg">
      TH <i class="fa-solid fa-heart mx-1 text-accent-pink"></i> TP
    </div>
    <div class="hidden md:block text-xs text-text-dark/70">
      11 tháng 05 2025 · Hà Nội
    </div>
  </div>
</header>

<main class="mt-16">

  <!-- SECTION 1: HERO -->
  <section id="hero" class="relative h-[90vh] md:h-screen overflow-hidden">
    <!-- Background slideshow -->
    <div class="hero-slide">
      <img src="13.jpg" class="w-full h-full object-cover opacity-40" alt="Wedding photo 1">
    </div>
    <div class="hero-slide">
      <img src="5.jpg" class="w-full h-full object-cover opacity-40" alt="Wedding photo 2">
    </div>
    <div class="hero-slide">
      <img src="6.jpg" class="w-full h-full object-cover opacity-40" alt="Wedding photo 3">
    </div>

    <!-- Overlay -->
    <div class="absolute inset-0 bg-primary-pink/50"></div>

    <!-- Content -->
    <div class="absolute inset-0 flex flex-col items-center justify-center text-center px-4">
      <div class="mb-4 text-3xl text-white">
        <i class="fa-regular fa-gem"></i>
      </div>
      <p class="uppercase tracking-[0.35em] text-xs md:text-sm text-white/80 mb-4">
        SAVE THE DATE
      </p>
      <h1 class="font-heading text-white text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-semibold drop-shadow-md leading-tight mb-4">
        Trung Hiếu &amp; Thanh Phương
      </h1>
      <p class="text-white text-lg md:text-2xl mb-8">
        11 tháng 05 2025
      </p>
      <a href="#guestbook"
         class="inline-block px-8 py-3 border border-white text-white rounded-full tracking-wide text-sm md:text-base hover:bg-white hover:text-accent-pink transition">
        GỬI LỜI CHÚC
      </a>
    </div>
  </section>

  <!-- SECTION 2: COUPLE INFO -->
  <section id="couple" class="py-16 md:py-20 bg-milky">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid md:grid-cols-2 gap-10 items-start relative">
        <!-- Heart in middle -->
        <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 z-20">
          <div class="w-16 h-16 rounded-full bg-accent-pink text-white flex items-center justify-center animate-pulse shadow-lg">
            <i class="fa-solid fa-heart text-2xl"></i>
          </div>
        </div>

        <!-- Groom -->
        <div class="group relative person-photo" data-aos="fade-right">
          <div class="rounded-3xl overflow-hidden shadow-lg border border-border-pink bg-white">
            <img src="7.jpg" class="uniform-img" alt="Groom">
          </div>
          <!-- Overlay card -->
          <div class="absolute inset-3 bg-white/95 rounded-3xl shadow-2xl flex flex-col items-center justify-center text-center px-6 py-10 opacity-0 translate-y-6 group-hover:opacity-100 group-hover:translate-y-0 transition duration-500">
            <p class="font-heading text-2xl text-accent-pink mb-1">Trung Hiếu</p>
            <p class="uppercase text-xs tracking-[0.3em] text-text-dark/60 mb-4">THE GROOM</p>
            <p class="text-sm leading-relaxed text-text-dark/80">
              Là một người hiền lành nhưng nói nhiều, thích đi du lịch, thích kiếm tiền và tiêu tiền.
              Luôn coi trọng tình cảm và gia đình.
            </p>
          </div>
          <!-- Double border animation -->
          <div class="overlay-border">
            <svg viewBox="0 0 100 100" preserveAspectRatio="none">
              <!-- Outer portrait rect -->
              <line x1="50" y1="2" x2="2" y2="2" pathLength="100" />
              <line x1="50" y1="2" x2="98" y2="2" pathLength="100" />
              <line x1="98" y1="2" x2="98" y2="50" pathLength="100" />
              <line x1="98" y1="50" x2="98" y2="98" pathLength="100" />
              <line x1="98" y1="98" x2="50" y2="98" pathLength="100" />
              <line x1="50" y1="98" x2="2" y2="98" pathLength="100" />
              <line x1="2" y1="98" x2="2" y2="50" pathLength="100" />
              <line x1="2" y1="50" x2="2" y2="2" pathLength="100" />
              <!-- Inner rect (offset 4 units on all sides) -->
              <line class="inner-frame" x1="50" y1="6" x2="6" y2="6" pathLength="100" />
              <line class="inner-frame" x1="50" y1="6" x2="94" y2="6" pathLength="100" />
              <line class="inner-frame" x1="94" y1="6" x2="94" y2="50" pathLength="100" />
              <line class="inner-frame" x1="94" y1="50" x2="94" y2="94" pathLength="100" />
              <line class="inner-frame" x1="94" y1="94" x2="50" y2="94" pathLength="100" />
              <line class="inner-frame" x1="50" y1="94" x2="6" y2="94" pathLength="100" />
              <line class="inner-frame" x1="6" y1="94" x2="6" y2="50" pathLength="100" />
              <line class="inner-frame" x1="6" y1="50" x2="6" y2="6" pathLength="100" />
            </svg>
          </div>
        </div>

        <!-- Bride -->
        <div class="group relative person-photo" data-aos="fade-left">
          <div class="rounded-3xl overflow-hidden shadow-lg border border-border-pink bg-white">
            <img src="8.jpg" class="uniform-img" alt="Bride">
          </div>
          <!-- Overlay card -->
          <div class="absolute inset-3 bg-white/95 rounded-3xl shadow-2xl flex flex-col items-center justify-center text-center px-6 py-10 opacity-0 translate-y-6 group-hover:opacity-100 group-hover:translate-y-0 transition duration-500">
            <p class="font-heading text-2xl text-accent-pink mb-1">Thanh Phương</p>
            <p class="uppercase text-xs tracking-[0.3em] text-text-dark/60 mb-4">THE BRIDE</p>
            <p class="text-sm leading-relaxed text-text-dark/80">
              Là một người hay cười nhưng sống nội tâm, thích hoa, thích mua sắm, thích đi
              những nơi có gió và luôn mơ về một ngôi nhà nhỏ.
            </p>
          </div>
          <!-- Double border animation -->
          <div class="overlay-border">
            <svg viewBox="0 0 100 100" preserveAspectRatio="none">
              <!-- Outer portrait rect -->
              <line x1="50" y1="2" x2="2" y2="2" pathLength="100" />
              <line x1="50" y1="2" x2="98" y2="2" pathLength="100" />
              <line x1="98" y1="2" x2="98" y2="50" pathLength="100" />
              <line x1="98" y1="50" x2="98" y2="98" pathLength="100" />
              <line x1="98" y1="98" x2="50" y2="98" pathLength="100" />
              <line x1="50" y1="98" x2="2" y2="98" pathLength="100" />
              <line x1="2" y1="98" x2="2" y2="50" pathLength="100" />
              <line x1="2" y1="50" x2="2" y2="2" pathLength="100" />
              <!-- Inner rect (offset 4 units on all sides) -->
              <line class="inner-frame" x1="50" y1="6" x2="6" y2="6" pathLength="100" />
              <line class="inner-frame" x1="50" y1="6" x2="94" y2="6" pathLength="100" />
              <line class="inner-frame" x1="94" y1="6" x2="94" y2="50" pathLength="100" />
              <line class="inner-frame" x1="94" y1="50" x2="94" y2="94" pathLength="100" />
              <line class="inner-frame" x1="94" y1="94" x2="50" y2="94" pathLength="100" />
              <line class="inner-frame" x1="50" y1="94" x2="6" y2="94" pathLength="100" />
              <line class="inner-frame" x1="6" y1="94" x2="6" y2="50" pathLength="100" />
              <line class="inner-frame" x1="6" y1="50" x2="6" y2="6" pathLength="100" />
            </svg>
          </div>
        </div>
      </div>

      <!-- Footer text -->
      <div class="mt-14 text-center">
        <h2 class="font-heading text-3xl md:text-4xl text-accent-pink mb-4">
          Và.. Ngày ấy đã tới
        </h2>
        <p class="max-w-3xl mx-auto mb-4 text-sm md:text-base text-text-dark/80">
          Thật vui vì được gặp và đón tiếp các bạn trong một dịp đặc biệt - Ngày cưới của chúng mình.
          Chúng mình muốn gửi đến bạn lời cảm ơn sâu sắc nhất vì đã luôn ở bên và chia sẻ cùng tụi mình.
        </p>
        <p class="font-art text-3xl md:text-5xl mb-10 text-accent-pink">Trung Hiếu &amp; Thanh Phương</p>

        <div class="grid md:grid-cols-2 gap-6 text-sm text-text-dark/80 max-w-3xl mx-auto">
          <div>
            <p class="uppercase text-xs tracking-wide text-text-dark/60 mb-1">Nhà trai</p>
            <p>Con ông: <span class="font-semibold">Y</span></p>
            <p>Con bà: <span class="font-semibold">X</span></p>
          </div>
          <div>
            <p class="uppercase text-xs tracking-wide text-text-dark/60 mb-1">Nhà gái</p>
            <p>Con ông: <span class="font-semibold">A</span></p>
            <p>Con bà: <span class="font-semibold">B</span></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 3: LOVE STORY TITLE -->
  <section class="my-10">
    <div class="diagonal-section bg-center bg-cover bg-fixed"
         style="background-image:url('https://placehold.co/1600x900?text=Rings+Background');">
      <div class="bg-primary-pink/80 py-16 md:py-24">
        <div class="max-w-6xl mx-auto px-4 text-center text-white">
          <h2 class="font-heading text-3xl md:text-4xl mb-4">Chuyện chúng mình</h2>
          <div class="flex justify-center">
            <span class="w-12 border-t border-white/70"></span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 4: LOVE STORY TIMELINE -->
  <section id="timeline" class="py-16 md:py-20 bg-milky tulip-bg">
    <div class="max-w-4xl mx-auto px-4">
      <div class="relative">
        <div class="absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 border-l-2 border-border-pink hidden md:block"></div>

        <!-- Item 1 -->
        <div class="mb-16 md:grid md:grid-cols-2 md:gap-10 items-center timeline-item">
          <div class="md:text-right md:pr-8 order-2 md:order-1">
            <div class="inline-block double-border border-border-pink bg-white px-6 py-4 rounded-2xl shadow-sm">
              <p class="font-heading text-accent-pink text-xl mb-2">Bắt đầu thật tình cờ</p>
              <p class="text-sm leading-relaxed">
                Vào một ngày đẹp trời, chú rể rep story của cô dâu và câu chuyện của chúng mình bắt đầu từ đó.
              </p>
            </div>
          </div>
          <div class="md:pl-8 order-1 md:order-2 mb-6 md:mb-0 flex justify-center">
            <img src="9.jpg" class="rounded-3xl shadow-lg border border-border-pink uniform-img" alt="">
          </div>
        </div>

        <!-- Quote box -->
        <div class="mb-16 flex justify-center timeline-item">
          <div class="double-border bg-white px-8 py-8 rounded-2xl max-w-2xl text-center">
            <p class="font-heading text-accent-pink text-xl md:text-2xl leading-relaxed">
              “Tình yêu là sự cảm động, là những ngày cùng nhau đi qua nắng mưa, là người vẫn ở đó chờ mình mỗi khi quay về.”
            </p>
          </div>
        </div>

        <!-- Item 2 -->
        <div class="mb-16 md:grid md:grid-cols-2 md:gap-10 items-center timeline-item">
          <div class="md:pr-8 mb-6 md:mb-0 flex justify-center">
            <img src="10.jpg" class="rounded-3xl shadow-lg border border-border-pink uniform-img" alt="">
          </div>
          <div class="md:pl-8">
            <div class="inline-block double-border bg-accent-pink px-6 py-4 rounded-2xl text-white shadow-md">
              <p class="font-heading text-2xl mb-2">Cùng nhau trưởng thành</p>
              <p class="text-sm leading-relaxed text-white/95">
                Chúng mình đã cùng nhau đi qua rất nhiều yêu thương và thử thách. Vui có, buồn có, nhưng cuối cùng vẫn chọn nắm tay nhau.
              </p>
            </div>
          </div>
        </div>

        <!-- Item 3 -->
        <div class="mb-4 md:grid md:grid-cols-2 md:gap-10 items-center timeline-item">
          <div class="md:text-right md:pr-8 order-2 md:order-1">
            <div class="inline-block double-border bg-accent-pink px-6 py-4 rounded-2xl text-white shadow-md">
              <p class="font-heading text-2xl mb-2">Lời cầu hôn</p>
              <p class="text-sm leading-relaxed text-white/95">
                Sau khoảng thời gian tìm hiểu và yêu nhau, chú rể đã ngỏ lời cầu hôn cô dâu trong một ngày đầy bất ngờ và hạnh phúc.
              </p>
              <p class="mt-3 text-xs uppercase tracking-[0.3em] text-white/80">
                13/04/2025
              </p>
            </div>
          </div>
          <div class="md:pl-8 order-1 md:order-2 mb-6 md:mb-0 flex justify-center">
            <img src="11.jpg" class="rounded-3xl shadow-lg border border-border-pink uniform-img" alt="">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 5: COUNTDOWN -->
  <section id="countdown" class="py-16 md:py-20 relative">
    <div class="absolute inset-0">
      <img src="12.jpg" class="w-full h-full object-cover" alt="">
      <div class="absolute inset-0 bg-primary-pink/90 backdrop-blur-sm"></div>
    </div>

    <div class="relative max-w-5xl mx-auto px-4">
      <div class="grid md:grid-cols-2 gap-10 bg-white/90 rounded-3xl shadow-2xl overflow-hidden">
        <!-- Left -->
        <div class="p-8 md:p-12 flex flex-col justify-center border-b md:border-b-0 md:border-r border-border-pink">
          <p class="font-heading text-3xl md:text-4xl text-accent-pink mb-4">
            Save The Date
          </p>
          <p class="text-sm md:text-base text-text-dark/80 mb-4">
            Một lời chúc của bạn chắc chắn sẽ làm cho đám cưới của chúng mình có thêm thật nhiều niềm hạnh phúc.
          </p>
          <p class="font-heading text-xl text-text-dark mb-2">
            Trung Hiếu &amp; Thanh Phương
          </p>
          <p class="text-sm text-text-dark/70 mb-6">
            11 tháng 05 2025 · Trung tâm tiệc cưới sang trọng tại Hà Nội
          </p>
          <div class="flex flex-wrap gap-3">
            <a href="#guestbook"
               class="px-5 py-2 border border-accent-pink text-accent-pink rounded-full text-xs md:text-sm hover:bg-accent-pink hover:text-white transition">
              GỬI LỜI CHÚC
            </a>
            <button onclick="openRSVP()"
               class="px-5 py-2 border border-accent-pink text-accent-pink rounded-full text-xs md:text-sm hover:bg-accent-pink hover:text-white transition">
              XÁC NHẬN THAM DỰ
            </button>
          </div>
        </div>

        <!-- Right: countdown -->
        <div class="p-8 md:p-12 flex flex-col items-center justify-center text-center">
          <p class="font-heading text-2xl text-accent-pink mb-6">
            The Big Day!
          </p>
          <p class="text-sm md:text-base text-text-dark/70 mb-4">11 tháng 05 2025</p>
          <div class="grid grid-cols-4 gap-3 w-full mb-4">
            <div class="double-border bg-white rounded-2xl px-2 py-3 flex flex-col items-center justify-center">
              <span id="days" class="font-heading text-2xl md:text-4xl text-accent-pink">0</span>
              <span class="text-[11px] mt-1">Ngày</span>
            </div>
            <div class="double-border bg-white rounded-2xl px-2 py-3 flex flex-col items-center justify-center">
              <span id="hours" class="font-heading text-2xl md:text-4xl text-accent-pink">0</span>
              <span class="text-[11px] mt-1">Giờ</span>
            </div>
            <div class="double-border bg-white rounded-2xl px-2 py-3 flex flex-col items-center justify-center">
              <span id="minutes" class="font-heading text-2xl md:text-4xl text-accent-pink">0</span>
              <span class="text-[11px] mt-1">Phút</span>
            </div>
            <div class="double-border bg-white rounded-2xl px-2 py-3 flex flex-col items-center justify-center">
              <span id="seconds" class="font-heading text-2xl md:text-4xl text-accent-pink">0</span>
              <span class="text-[11px] mt-1">Giây</span>
            </div>
          </div>
          <p class="text-[12px] text-text-dark/70">
            Hẹn gặp bạn vào ngày 11/05/2025 để cùng chứng kiến khoảnh khắc chúng mình về chung một nhà.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 6: GALLERY -->
  <section id="gallery" class="py-16 md:py-20 bg-white">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-10">
        <p class="font-heading text-3xl md:text-4xl text-text-dark mb-3">
          Album Hình Cưới
        </p>
        <div class="flex items-center justify-center gap-3 text-accent-pink">
          <span class="w-10 border-t border-border-pink"></span>
          <i class="fa-regular fa-gem"></i>
          <span class="w-10 border-t border-border-pink"></span>
        </div>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
        <!-- 9 ảnh demo -->
        <template id="gallery-template"></template>
        <script>
          // render using JS so code ngắn hơn
        </script>
        <!-- Fallback static (nếu JS off) -->
        <img src="4.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="5.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="6.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="7.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="8.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="9.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="10.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="11.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
        <img src="12.jpg" class="rounded-3xl shadow-md uniform-img hover:scale-105 transition duration-500" alt="">
      </div>
    </div>
  </section>

  <!-- SECTION 7: EVENTS (PARALLAX) -->
  <section id="events" class="py-16 md:py-24 relative">
    <div class="absolute inset-0">
      <img src="13.jpg" class="w-full h-full object-cover" alt="">
      <div class="absolute inset-0 bg-primary-pink/85"></div>
    </div>

    <div class="relative max-w-6xl mx-auto px-4">
      <div class="flex flex-col md:flex-row md:justify-start">
        <div class="w-full md:w-1/2 bg-accent-pink/80 text-white rounded-3xl shadow-2xl double-border-white px-6 md:px-10 py-10 md:py-12" data-aos="fade-right">
          <h2 class="font-heading text-3xl md:text-4xl mb-6 text-center md:text-left">
            Thông tin sự kiện
          </h2>
          <p class="text-base md:text-lg text-white/85 mb-8">
            Rất mong bạn sẽ sắp xếp thời gian để cùng đến chung vui và chứng kiến khoảnh khắc ý nghĩa nhất của chúng mình.
          </p>

          <!-- Event card -->
          <div class="space-y-5">
            <div class="bg-white text-text-dark rounded-2xl px-4 py-4 border-4 border-border-pink border-double">
              <div class="flex gap-4 items-center mb-3">
                <div class="w-12 h-12 rounded-full bg-primary-pink/70 flex items-center justify-center">
                  <i class="fa-solid fa-champagne-glasses text-accent-pink"></i>
                </div>
                <div class="text-sm md:text-base flex-1">
                  <p class="font-heading text-base md:text-lg text-accent-pink mb-1">Lễ Thành Hôn</p>
                  <p>11:00 · 11/05/2025</p>
                  <p>Trung tâm tiệc cưới ABC, Hà Nội</p>
                </div>
              </div>
              <a href="https://maps.google.com" target="_blank" class="block text-center bg-accent-pink text-white px-3 py-2 rounded-lg text-xs hover:opacity-90 transition">
                <i class="fa-solid fa-map-location-dot mr-1"></i> Xem bản đồ
              </a>
            </div>

            <div class="bg-white text-text-dark rounded-2xl px-4 py-4 border-4 border-border-pink border-double">
              <div class="flex gap-4 items-center mb-3">
                <div class="w-12 h-12 rounded-full bg-primary-pink/70 flex items-center justify-center">
                  <i class="fa-solid fa-ring text-accent-pink"></i>
                </div>
                <div class="text-sm md:text-base flex-1">
                  <p class="font-heading text-base md:text-lg text-accent-pink mb-1">Lễ Vu Quy</p>
                  <p>08:00 · 10/05/2025</p>
                  <p>Nhà riêng cô dâu, Hà Nội</p>
                </div>
              </div>
              <a href="https://maps.google.com" target="_blank" class="block text-center bg-accent-pink text-white px-3 py-2 rounded-lg text-xs hover:opacity-90 transition">
                <i class="fa-solid fa-map-location-dot mr-1"></i> Xem bản đồ
              </a>
            </div>

            
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 8: GUESTBOOK -->
  <section id="guestbook" class="py-16 md:py-20 bg-white relative overflow-hidden">
    <!-- Leaf decoration -->
    <div class="absolute -left-10 top-10 opacity-20">
      <svg class="leaf-svg" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#D98D8D" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="absolute -right-10 bottom-10 opacity-20 rotate-180">
      <svg class="leaf-svg" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#D98D8D" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
    </div>

    <div class="max-w-3xl mx-auto px-4 relative">
      <div class="text-center mb-8">
        <h2 class="font-heading text-3xl md:text-4xl mb-2 text-text-dark">Sổ lưu bút</h2>
        <p class="text-sm text-text-dark/70">
          Hãy để lại lời chúc, kỷ niệm hoặc bất cứ điều gì bạn muốn gửi đến tụi mình nhé!
        </p>
      </div>

      <form id="guestbookForm" class="double-border rounded-3xl bg-milky px-6 md:px-8 py-8 space-y-6">
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <label class="text-xs uppercase tracking-wide text-text-dark/60">Họ và tên</label>
            <input name="name" type="text" required class="w-full mt-1 bg-transparent border-b border-border-pink focus:outline-none focus:border-accent-pink py-1 text-sm" placeholder="Nhập tên của bạn">
          </div>
          <div>
            <label class="text-xs uppercase tracking-wide text-text-dark/60">Email / Số điện thoại</label>
            <input name="contact" type="text" class="w-full mt-1 bg-transparent border-b border-border-pink focus:outline-none focus:border-accent-pink py-1 text-sm" placeholder="(Không bắt buộc)">
          </div>
        </div>
        <div>
          <label class="text-xs uppercase tracking-wide text-text-dark/60">Lời chúc</label>
          <textarea name="message" rows="4" required class="w-full mt-1 bg-transparent border border-border-pink focus:outline-none focus:border-accent-pink rounded-2xl px-3 py-2 text-sm" placeholder="Viết vài dòng cho tụi mình nhé..."></textarea>
        </div>
        <div class="text-center">
          <button id="guestbookSubmit" type="submit"
                  class="inline-flex items-center gap-2 px-6 py-2 rounded-full border border-accent-pink text-accent-pink text-xs md:text-sm hover:bg-accent-pink hover:text-white transition">
            <i class="fa-regular fa-paper-plane"></i>
            GỬI LỜI CHÚC
          </button>
          <div id="guestbookThanks" class="hidden text-sm text-accent-pink mt-3">Cảm ơn bạn đã gửi lời chúc!</div>
          <div id="guestbookError" class="hidden text-xs text-red-600 mt-2">Vui lòng nhập tên và lời chúc.</div>
          <div id="guestbookList" class="mt-6 space-y-3 max-w-2xl mx-auto text-left"></div>
        </div>
      </form>
    </div>
  </section>

  <!-- SECTION 9: QR GIFT BOX -->
  <section id="qr" class="py-16 md:py-20 bg-[#fff6f4]">
    <div class="max-w-5xl mx-auto px-4">
      <div class="text-center mb-10">
        <h2 class="font-heading text-3xl md:text-4xl mb-2 text-text-dark">Hộp mừng cưới</h2>
        <p class="text-sm text-text-dark/70 max-w-2xl mx-auto">
          Sự hiện diện của bạn là món quà quý giá nhất. Nếu không thể tham dự hoặc muốn gửi lời chúc qua hình thức online,
          bạn có thể quét mã QR dưới đây.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-8">
        <!-- Groom card -->
        <div class="bg-accent-pink rounded-3xl text-white p-6 md:p-8 double-border-white">
          <h3 class="font-heading text-xl mb-2 text-center">Nhà trai</h3>
          <p class="text-xs text-center mb-4 text-white/80">Trung Hiếu</p>
          <div class="border border-white rounded-2xl p-4 flex flex-col items-center gap-3 bg-white/5">
            <img src="7.jpg" class="rounded-xl bg-white" alt="QR Groom">
            <div class="text-[12px] space-y-1 text-center">
              <p>Ngân hàng: <span class="font-semibold">A</span></p>
              <p>Chủ tài khoản: <span class="font-semibold">NGUYEN TRUNG HIEU</span></p>
              <p>Số tài khoản: <span class="font-semibold tracking-widest">0123 456 789</span></p>
              <p>Nội dung: <span class="italic">[Tên bạn] mừng cưới</span></p>
            </div>
          </div>
        </div>

        <!-- Bride card -->
        <div class="bg-accent-pink rounded-3xl text-white p-6 md:p-8 double-border-white">
          <h3 class="font-heading text-xl mb-2 text-center">Nhà gái</h3>
          <p class="text-xs text-center mb-4 text-white/80">Thanh Phương</p>
          <div class="border border-white rounded-2xl p-4 flex flex-col items-center gap-3 bg-white/5">
            <img src="8.jpg" class="rounded-xl bg-white" alt="QR Bride">
            <div class="text-[12px] space-y-1 text-center">
              <p>Ngân hàng: <span class="font-semibold">B</span></p>
              <p>Chủ tài khoản: <span class="font-semibold">NGUYEN THANH PHUONG</span></p>
              <p>Số tài khoản: <span class="font-semibold tracking-widest">123456789</span></p>
              <p>Nội dung: <span class="italic">[Tên bạn] mừng cưới</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>

<!-- MODAL RSVP -->
<div id="rsvpModal" class="modal">
  <div class="bg-white rounded-3xl max-w-md w-full mx-4 p-6 md:p-8 relative shadow-2xl">
    <button onclick="closeRSVP()" class="absolute top-4 right-4 text-2xl text-text-dark/50 hover:text-accent-pink transition">
      &times;
    </button>
    <h2 class="font-heading text-2xl md:text-3xl text-center mb-6 text-accent-pink">Xác nhận tham dự</h2>
    <form id="rsvpForm" class="space-y-4">
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Họ và tên *</label>
        <input name="name" type="text" required class="w-full mt-1 bg-transparent border-b border-border-pink focus:outline-none focus:border-accent-pink py-2 text-sm" placeholder="Nhập họ tên của bạn">
      </div>
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Số điện thoại</label>
        <input name="phone" type="tel" class="w-full mt-1 bg-transparent border-b border-border-pink focus:outline-none focus:border-accent-pink py-2 text-sm" placeholder="Số điện thoại">
      </div>
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Số người đi cùng</label>
        <input name="guests" type="number" min="1" max="10" value="1" class="w-full mt-1 bg-transparent border-b border-border-pink focus:outline-none focus:border-accent-pink py-2 text-sm" placeholder="1">
      </div>
      <div>
        <label class="text-xs uppercase tracking-wide text-text-dark/60">Lưu ý (nếu có)</label>
        <textarea name="note" rows="3" class="w-full mt-1 bg-transparent border border-border-pink focus:outline-none focus:border-accent-pink rounded-2xl px-3 py-2 text-sm" placeholder="Ví dụ: Ăn chay, dị ứng thực phẩm..."></textarea>
      </div>
      <div class="text-center pt-2">
        <button type="submit" class="px-8 py-3 bg-accent-pink text-white rounded-full text-sm hover:opacity-90 transition">
          <i class="fa-solid fa-check mr-2"></i>Xác nhận
        </button>
      </div>
      <div id="rsvpThanks" class="hidden text-center text-sm text-accent-pink mt-3">Cảm ơn bạn đã xác nhận tham dự! Hẹn gặp bạn trong ngày vui.</div>
    </form>
  </div>
</div>

<!-- SECTION 10: FOOTER -->
<footer class="bg-accent-pink text-white py-10 md:py-12">
  <div class="max-w-4xl mx-auto px-4 text-center">
    <!-- Leaf around name -->
    <div class="flex items-center justify-center gap-3 mb-4">
      <svg class="leaf-svg rotate-180 opacity-80" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#ffffff" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
      <h2 class="font-heading text-2xl sm:text-3xl md:text-4xl lg:text-5xl">Trung Hiếu &amp; Thanh Phương</h2>
      <svg class="leaf-svg opacity-80" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5 45C25 5 55 5 95 5" stroke="#ffffff" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
    </div>
    <p class="text-xs md:text-sm text-white/80">
      Cảm ơn bạn vì đã là một phần trong hành trình yêu thương của chúng mình.
    </p>
  </div>
</footer>

<!-- FLOATING ACTION BUTTONS -->
<div class="fixed bottom-5 right-5 z-50 flex flex-col gap-3">
  <!-- Menu / scroll to top -->
  <button id="btn-top"
          class="w-12 h-12 rounded-full bg-accent-pink shadow-lg text-white flex items-center justify-center hover:scale-105 transition"
          title="Về đầu trang">
      <i class="fa-solid fa-house"></i>
  </button>

  <!-- Gift / scroll to QR -->
  <button id="btn-gift"
          class="w-12 h-12 rounded-full bg-accent-pink shadow-lg text-white flex items-center justify-center hover:scale-105 transition"
          title="Đến phần mừng cưới">
    <i class="fa-solid fa-gift"></i>
  </button>

    <!-- Comment / scroll to guestbook -->
    <button id="btn-comment"
            class="w-12 h-12 rounded-full bg-accent-pink shadow-lg text-white flex items-center justify-center hover:scale-105 transition"
            title="Gửi lời chúc">
      <i class="fa-regular fa-comment"></i>
    </button>

  <!-- Music toggle -->
  <button id="btn-music"
          class="w-12 h-12 rounded-full bg-accent-pink shadow-lg text-white flex items-center justify-center hover:scale-105 transition"
          title="Bật / tắt nhạc nền">
    <i id="music-icon" class="fa-solid fa-music"></i>
  </button>
</div>

<!-- SCRIPTS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  // AOS init
  AOS.init({
    duration: 800,
    once: true
  });

  // Timeline scroll-triggered animation (triggers every time item enters viewport)
  const timelineItems = document.querySelectorAll('.timeline-item');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      } else {
        // Remove visible class when element leaves viewport
        entry.target.classList.remove('visible');
      }
    });
  }, { threshold: 0.3 });
  timelineItems.forEach(item => observer.observe(item));

  // Countdown
  (function () {
    const targetDate = new Date('2025-05-11T00:00:00+07:00').getTime();
    function updateCountdown() {
      const now = Date.now();
      const isPast = now > targetDate;
      const diff = isPast ? (now - targetDate) : (targetDate - now);
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      document.getElementById('days').textContent = String(days).padStart(2, '0');
      document.getElementById('hours').textContent = String(hours).padStart(2, '0');
      document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
      document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);
  })();

  // FAB Buttons
  const btnTop = document.getElementById('btn-top');
  const btnGift = document.getElementById('btn-gift');
  const btnComment = document.getElementById('btn-comment');
  const btnMusic = document.getElementById('btn-music');
  const musicIcon = document.getElementById('music-icon');
  const audio = document.getElementById('bg-music');

  btnTop.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  btnGift.addEventListener('click', () => {
    document.getElementById('qr').scrollIntoView({ behavior: 'smooth' });
  });

  if (btnComment) {
    btnComment.addEventListener('click', () => {
      document.getElementById('guestbook').scrollIntoView({ behavior: 'smooth' });
    });
  }

  let isPlaying = false;
  btnMusic.addEventListener('click', () => {
    if (!isPlaying) {
      audio.play().catch(() => {});
      isPlaying = true;
      musicIcon.classList.add('spin-slow');
    } else {
      audio.pause();
      isPlaying = false;
      musicIcon.classList.remove('spin-slow');
    }
  });

  // RSVP Modal functions
  function openRSVP() {
    document.getElementById('rsvpModal').classList.add('active');
  }

  function closeRSVP() {
    document.getElementById('rsvpModal').classList.remove('active');
  }

  // Close modal on outside click
  document.getElementById('rsvpModal').addEventListener('click', (e) => {
    if (e.target.id === 'rsvpModal') {
      closeRSVP();
    }
  });

  // Falling hearts animation
  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.innerHTML = '❤';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
    heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
    document.getElementById('hearts-container').appendChild(heart);

    setTimeout(() => {
      heart.remove();
    }, 7000);
  }

  // Create hearts periodically (adaptive density)
  const HEART_INTERVAL = window.innerWidth < 640 ? 1600 : 900;
  setInterval(createHeart, HEART_INTERVAL);

  // API endpoints: nếu mở front-end bằng Live Server (port khác 3000) thì dùng backend Node ở 3000
  const localHosts = ['localhost', '127.0.0.1', '0.0.0.0'];
  const needsProxy = localHosts.includes(window.location.hostname)
    && window.location.port
    && window.location.port !== '3000';
  const API_BASE = needsProxy ? 'http://localhost:3000' : '';
  const API_RSVP = `${API_BASE}/api/rsvp`;
  const API_GUESTBOOK = `${API_BASE}/api/guestbook`;

  // RSVP form submit handler
  const rsvpForm = document.getElementById('rsvpForm');
  if (rsvpForm) {
    rsvpForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(rsvpForm);
      const payload = {
        name: formData.get('name'),
        phone: formData.get('phone') || '',
        guests: formData.get('guests') || 1,
        note: formData.get('note') || '',
        type: 'RSVP',
        timestamp: new Date().toISOString()
      };

      try {
        await fetch(API_RSVP, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
      } catch (err) {
        console.warn('RSVP save failed (placeholder URL?)', err);
      }

      document.getElementById('rsvpThanks').classList.remove('hidden');
      setTimeout(() => closeRSVP(), 1800);
    });
  }

  // Guestbook submit handler with live preview
  const guestbookForm = document.getElementById('guestbookForm');
  const guestbookList = document.getElementById('guestbookList');
  const guestbookThanks = document.getElementById('guestbookThanks');
  const latestMessages = [];

  function renderGuestbook() {
    if (!guestbookList) return;
    guestbookList.innerHTML = latestMessages.slice(0,3).map(m => `
      <div class="border border-border-pink p-3">
        <div class="text-xs text-text-dark/60">${m.name || 'Ẩn danh'}</div>
        <div class="text-sm mt-1">${m.message}</div>
      </div>
    `).join('');
  }

  if (guestbookForm) {
    guestbookForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(guestbookForm);
      const nameVal = (fd.get('name') || '').trim();
      const msgVal = (fd.get('message') || '').trim();
      if (!nameVal || !msgVal) {
        const errBox = document.getElementById('guestbookError');
        if (errBox) {
          errBox.classList.remove('hidden');
          setTimeout(() => errBox.classList.add('hidden'), 2500);
        }
        return;
      }
      const entry = {
        name: nameVal,
        contact: (fd.get('contact') || '').trim(),
        message: msgVal,
        type: 'GUESTBOOK',
        timestamp: new Date().toISOString()
      };

      latestMessages.unshift(entry);
      renderGuestbook();

      try {
        await fetch(API_GUESTBOOK, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(entry)
        });
      } catch (err) {
        console.warn('Guestbook save failed (placeholder URL?)', err);
      }

      if (guestbookThanks) {
        guestbookThanks.classList.remove('hidden');
        setTimeout(() => guestbookThanks.classList.add('hidden'), 2000);
      }
      guestbookForm.reset();
    });
  }
</script>

</body>
</html>
